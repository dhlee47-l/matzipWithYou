<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Profile Image</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="friend-card">
  <!-- OAuth 프로필 이미지 (URL로 저장된 경우) -->
  <img th:if="${profileImg != null && profileImg.filename.startsWith('http')}"
       th:src="${profileImg.filename}"
       onerror="this.src='/IMG/defaultProfileImg.png'"
       alt="OAuth Profile"
       class="friend-image">

  <!-- 일반 업로드된 프로필 이미지 -->
  <img th:if="${profileImg != null && !profileImg.filename.startsWith('http')}"
       th:src="@{'/upload/' + ${profileImg.filename}}"
       th:alt="${profileImg.sourcename}"
       class="friend-image">

  <!-- 기본 프로필 이미지 -->
  <img th:if="${profileImg == null}"
       th:src="@{'/IMG/defaultProfileImg.png'}"
       alt="Default Profile"
       class="friend-image">

  <div class="friend-nickname" th:text="${profileImg.sourcename}"></div>
</div>
</body>
</html>