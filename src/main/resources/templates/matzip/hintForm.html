<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Hint Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
        }
        ul {
            list-style-type: square;
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
            color: #555;
            cursor: pointer; /* 클릭 가능하도록 커서 변경 */
        }
        .no-hints {
            font-style: italic;
            color: #999;
        }
    </style>
    <script>
        function saveHint(tagId, myMatzipId) {
            const memberId = 2 /* 현재 로그인한 사용자의 ID어케 가져옴???*/;

            fetch('/matzip/saveTag', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ memberId: memberId, myMatzipId: myMatzipId, tagId: tagId })
            })
                .then(response => {
                    if (response.ok) {

                        alert("힌트가 저장되었습니다.");

                    } else {
                        alert("힌트 저장에 실패했습니다.");
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }
    </script>
</head>
<body>
<h1>힌트 제공 목록</h1>

<!-- 힌트가 있는 경우 -->
<ul th:if="${hints != null and !hints.isEmpty()}">
    <li th:each="hint : ${hints}"
        th:text="${hint.tagName}"
        th:onclick="'saveHint(' + ${hint.tagId} + ', ' + ${myMatzipId} + ')'">
    </li>
</ul>

<!-- 힌트가 없는 경우 -->
<p class="no-hints" th:if="${hints == null or hints.isEmpty()}">
    hidden 맛집이 아닙니다
</p>
</body>
</html>
